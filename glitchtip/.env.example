# ----------------------------------------
# GlitchTip public port
# ----------------------------------------
GLITCHTIP_PORT=8000

# ----------------------------------------
# GlitchTip core config
# ----------------------------------------
# Use your real external URL (reverse proxy strongly recommended)
GLITCHTIP_DOMAIN=https://glitchtip.example.com

# Set to a real sender address if you enable SMTP
GLITCHTIP_DEFAULT_FROM_EMAIL=glitchtip@example.com

# If you do not want email yet, keep consolemail
GLITCHTIP_EMAIL_URL=consolemail://

# Strong random SECRET_KEY (example generation: openssl rand -hex 32)
GLITCHTIP_SECRET_KEY=change_me_to_a_long_random_value

# ----------------------------------------
# Database
# ----------------------------------------
GLITCHTIP_POSTGRES_DB_DEFAULT=glitchtip
GLITCHTIP_POSTGRES_USER=glitchtip

# IMPORTANT:
# The actual password should live in ./secrets/glitchtip_postgres_password.txt
# This variable is only used to assemble DATABASE_URL at runtime. You can remove it
# and hardcode a full DATABASE_URL if you prefer.
GLITCHTIP_POSTGRES_PASSWORD=change_me

GLITCHTIP_DATABASE_URL=postgres://glitchtip:${GLITCHTIP_POSTGRES_PASSWORD}@glitchtip-postgres:5432/glitchtip

# ----------------------------------------
# Redis
# ----------------------------------------
GLITCHTIP_REDIS_URL=redis://glitchtip-redis:6379/0

# ----------------------------------------
# Worker tuning
# ----------------------------------------
GLITCHTIP_CELERY_WORKER_CONCURRENCY=2
GLITCHTIP_CELERY_WORKER_MAX_TASKS_PER_CHILD=10000

# Optional: disable self-registration after initial setup
GLITCHTIP_ENABLE_USER_REGISTRATION=true
