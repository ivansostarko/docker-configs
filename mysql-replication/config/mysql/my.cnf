[mysqld]
# Base configuration shared by primary and replicas.
user=mysql

# Networking
bind-address=0.0.0.0
port=3306
skip_name_resolve=ON

# SQL mode (keep this explicit so upgrades don't surprise you)
sql_mode=STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION

# Character set
character-set-server=utf8mb4
collation-server=utf8mb4_0900_ai_ci

# Performance / safety defaults (tune to your workload)
innodb_buffer_pool_size=512M
innodb_flush_method=O_DIRECT
innodb_log_file_size=256M
innodb_flush_log_at_trx_commit=1

# Observability
performance_schema=ON
slow_query_log=ON
long_query_time=1

# Include role-specific overrides
!includedir /etc/mysql/conf.d
