# ----------------------------------------
# MySQL Backup .env (NON-SENSITIVE)
# ----------------------------------------
TZ=Europe/Zagreb

# Target MySQL endpoint (reachable from the backup container)
MYSQL_HOST=mysql
MYSQL_PORT=3306

# Databases to dump:
# - all
# - comma-separated list: appdb,analytics,wordpress
MYSQL_DATABASES=all

# When to run backups (cron format, container timezone TZ)
# Example: daily at 03:00
MYSQL_BACKUP_SCHEDULE=0 3 * * *

# Retention policy
MYSQL_BACKUP_KEEP_LAST=30
MYSQL_BACKUP_RETENTION_DAYS=14

# Compression: gzip or none
MYSQL_BACKUP_COMPRESS=gzip

# Optional extra mysqldump args
# Example: ignore large tables: --ignore-table=db.big_table
MYSQL_BACKUP_EXTRA_DUMP_ARGS=

# Optional SSL mode: REQUIRED|VERIFY_CA|VERIFY_IDENTITY
MYSQL_SSL_MODE=

# Healthcheck: last successful backup must be newer than this
# Default 90000 (~25 hours)
MYSQL_BACKUP_HEALTH_MAX_AGE_SECONDS=90000

# Metrics (optional)
# Leave PUSHGATEWAY_URL blank to disable metrics pushes
PUSHGATEWAY_URL=http://pushgateway:9091
PUSHGATEWAY_PORT=9091
MYSQL_BACKUP_METRICS_JOB=mysql_backup
MYSQL_BACKUP_METRICS_INSTANCE=mysql_backup

# Run a backup immediately when the container starts
MYSQL_BACKUP_INIT_BACKUP=1
